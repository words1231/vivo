<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../css/reset.css">
    <link rel="stylesheet" href="../icon/iconfont.css">
    <link rel="stylesheet" href="../css/gouwuche.css">
</head>

<body>
    <!-- header -->
    <div class="header">
        <ul id="liBox" class="flex float_left">
            <li><a href="pingpai.html"> 品牌 </a></li>
            <li><a href="">Funtouch OS</a></li>
            <li><a href="">体验店 </a></li>
            <li><a href="">政企业务 </a></li>
            <li><a href="">社区 </a></li>
        </ul>
        <div class="box flex float_right">
            <div><a href="">购物车 </a></div>
            <div><a href="denglu.html">登录 </a></div>
            <div><a href="zhuce.html">注册 </a></div>
        </div>
    </div>

    <!-- logo -->
    <div class="blogo">
        <div class="logo flex">
            <div class="vivo">
                <span class="iconfont icon-vivo"></span>
            </div>

            <ul id="u" class="flex">
                <li class="li">
                    <a class="aa block" id="html" href="#">iQOO专区
                        <div class="tao">
                            <div class="look">
                                <div>
                                    <div class="imgbigbox">
                                        <div class="imgbox1">
                                            <img src="../images/iqooneo3.jpg" alt="">
                                        </div>
                                        <div class="imgbox2">
                                            <img class="chulai" src="../images/iqooneo3h.jpg" alt="">
                                        </div>
                                    </div>
                                    <p class="p px16">iQOO Neo3</p>
                                    <p class="znews px12">最新款</p>
                                </div>

                                <div>
                                    <div class="imgbigbox">
                                        <div class="imgbox1">
                                            <img src="../images/iqooneo3.jpg" alt="">
                                        </div>
                                        <div class="imgbox2">
                                            <img class="chulai" src="../images/iqooneo3h.jpg" alt="">
                                        </div>
                                    </div>
                                    <p class="p">iQOO Neo3</p>
                                </div>

                                <div>
                                    <div class="imgbigbox">
                                        <div class="imgbox1">
                                            <img src="../images/iqooneo3.jpg" alt="">
                                        </div>
                                        <div class="imgbox2">
                                            <img class="chulai" src="../images/iqooneo3h.jpg" alt="">
                                        </div>
                                    </div>
                                    <p class="p">iQOO Neo3</p>
                                </div>

                                <div>
                                    <div class="imgbigbox">
                                        <div class="imgbox1">
                                            <img src="../images/iqooneo3.jpg" alt="">
                                        </div>
                                        <div class="imgbox2">
                                            <img class="chulai" src="../images/iqooneo3h.jpg" alt="">
                                        </div>
                                    </div>
                                    <p class="p">iQOO Neo3</p>
                                </div>

                                <div>
                                    <div class="imgbigbox">
                                        <div class="imgbox1">
                                            <img src="../images/iqooneo3.jpg" alt="">
                                        </div>
                                        <div class="imgbox2">
                                            <img class="chulai" src="../images/iqooneo3h.jpg" alt="">
                                        </div>
                                    </div>
                                    <p class="p">iQOO Neo3</p>
                                </div>

                                <div class="gengduo">
                                    <p>全部机型</p>
                                    <p>对比机型</p>
                                </div>
                            </div>
                        </div>
                    </a></li>
                <li><a class="aa block" href="#">NEX系列
                    </a></li>
                <li><a class="aa block" href="#">X系列
                    </a></li>
                <li><a class="aa block" href="#">S系列
                    </a></li>
                <li><a class="aa block" href="#">Z系列
                    </a></li>
                <li><a class="aa block" href="#">Y系列
                    </a></li>
                <li><a class="aa block" href="#">U系列
                    </a></li>
                <li><a class="aa block" href="#">真无线耳机</a></li>
                <li><a class="aa" href="#">商城</a></li>
                <li><a class="aa" href="#">服务</a></li>
            </ul>

            <a href="" class="sousuo">
                <span class="iconfont icon-sousuo s aa"></span>
            </a>
        </div>

    </div>

    <div class="my">
        <p class="m">我的购物车</p>
        <p class="j">继续购物 ></p>
    </div>

    <div class="gbox">
        <table>
            <tr>
                <td>
                    全选:<input type="checkbox">
                </td>
                <td>编号</td>
                <td>商品名称</td>
                <td>价格</td>
                <td>数量</td>
                <td>金额</td>
                <td>操作</td>
            </tr>

            <tr>
                <td>
                    <input type="checkbox">
                </td>
                <td>01001</td>
                <td>鼠标</td>
                <td>52</td>
                <td>
                    <input type="button" class="reduceBtn" value="-">
                    <span>2</span>
                    <input type="button" class="addBtn" value="+">
                </td>
                <td>104</td>
                <td>
                    <input class="delBtn" type="button" value="删除">
                </td>
            </tr>

            <tr>
                <td>
                    <input type="checkbox">
                </td>
                <td>01002</td>
                <td>键盘</td>
                <td>120</td>
                <td>
                    <input type="button" class="reduceBtn" value="-">
                    <span>1</span>
                    <input type="button" class="addBtn" value="+">
                </td>
                <td>120</td>
                <td>
                    <input class="delBtn" type="button" value="删除">
                </td>
            </tr>

            <tr>
                <td>
                    <input type="checkbox">
                </td>
                <td>01003</td>
                <td>移动硬盘</td>
                <td>450</td>
                <td>
                    <input type="button" class="reduceBtn" value="-">
                    <span>3</span>
                    <input type="button" class="addBtn" value="+">
                </td>
                <td>1350</td>
                <td>
                    <input class="delBtn" type="button" value="删除">
                </td>
            </tr>

            <tr>
                <td colspan="8" style="text-align: center">
                    总金额：<span>0</span>
                </td>
            </tr>

        </table>
    </div>


    <div class="footer">
        <div class="footer-warp">
            <div class="footerl">
                <div class="">
                    <h4><a href="">热门链接</a></h4>
                    <p><a href="">NEX 3</a></p>
                    <p><a href="">iQOO Pro</a></p>
                    <p><a href="">Z5</a></p>
                    <p><a href="">vivo摄影</a></p>
                    <p><a href="">查找手机</a></p>
                    <p><a href="">常见问题</a></p>
                </div>
                <div class="">
                    <h4><a href="">在线购买</a></h4>
                    <p><a href="">官方商城</a></p>
                    <p><a href="">选购手机</a></p>
                    <p><a href="">选购配件</a></p>
                    <p><a href="">政企服务</a></p>
                    <p><a href="">以旧换新</a></p>
                    <p><a href="">保障服务</a></p>
                </div>
                <div class="">
                    <h4><a href="">服务支持</a></h4>
                    <p><a href="">服务首页</a></p>
                    <p><a href="">服务网点查询</a></p>
                    <p><a href="">真伪查询</a></p>
                    <p><a href="">预约维修</a></p>
                    <p><a href="">维修配件价格</a></p>
                    <p><a href="">服务政策</a></p>
                    <p><a href="">安全公告</a></p>
                </div>
                <div class="">
                    <h4><a href="">vivo社区</a></h4>
                    <p><a href="">社区首页</a></p>
                    <p><a href="">摄影专区</a></p>
                    <p><a href="">微博</a></p>
                    <p><a href="">贴吧</a></p>
                    <P><a href="">兴趣部落</a></P>
                </div>
                <div class="">
                    <h4><a href="">关于vivo</a></h4>
                    <p><a href="">vivo简介</a></p>
                    <p><a href="">工作机会</a></p>
                    <p><a href="">新闻资讯</a></p>
                    <p><a href="">采购平台</a></p>
                    <p><a href="">供应商协同平台</a></p>
                    <p><a href="">开放平台</a></p>
                </div>
            </div>
            <div class="footerr">
                <a href="">
                <span class="iconfont icon-xiaoxi"></span>&nbsp在线客服
                </a>
                    <div>
                        <p class="blue">400-678-9688</p>
                        <p class="px14">全国客户服务热线 7*24小时</p>
                        <p class="blue">400-679-9688</p>
                        <p class="px14">NEX 专属服务热线 7*24小时</p>
                        <p class="px12">关注vivo</p>
                        <p>
                            <a href=""><span class="iconfont icon-weibo-copy"></span>&nbsp</a>
                            <a href=""><span class="iconfont icon-icon"></span>&nbsp</a>
                            <a href=""><span class="iconfont icon-zhifubao"></span>&nbsp</a>
                            <a href=""><span class="iconfont icon-renrenwang"></span></a>
                        </p>
                    </div>
            </div>
        </div>
        </div>
    
        <div class="ddd">
            <p>
                Copyright ©2011-2020 广东天宸网络科技有限公司 版权所有 保留一切权利 | 隐私政策 | 法律声明 | 营业执照 | 粤B2-20080267 | 粤ICP备14052990号 | 粤公网安备 44190002004246号 | Select Location
            </p>
        </div>
</body>

</html>
<script src="../js/jquery-3.2.1.min.js"></script>
<script src="../js/check.js"></script>
<script>
    $(".block").mouseenter(function () {
        $(".tao").css({
            "display": "block"
        })
        $(".blogo").css({
            "background": "white"
        })
    })
    $(".block").mouseleave(function () {
            $(".tao").css({
                "display": "none"
            })
            $(".blogo").css({
                "background-color": "#f7f7f7"
            })
        }) 

    $(function () {
        $("table :checkbox:eq(0)").check($("table :checkbox:gt(0)"));

        $(":checkbox").click(function () {
            totalMoney();
        });

        $(".addBtn").click(function () {
            // 数量
            let count = $(this).prev().html();
            count++;
            $(this).prev().html(count);
            // 单价
            let price = $(this).parent().prev().html();
            // 计算金额
            let money = price * count;
            $(this).parent().next().html(money);

            // 总金额
            totalMoney();
        });


        $(".reduceBtn").click(function () {
            // 数量
            let count = $(this).next().html();
            count--;
            if (count < 1) {
                count = 0;
            }
            $(this).next().html(count);
            // 单价
            let price = $(this).parent().prev().html();
            // 计算金额
            let money = price * count;
            $(this).parent().next().html(money);

            // 同时改变当前行的复选框的状态
            if (count == 0) {
                $(this).parent().parent().find(":checkbox").prop("checked", false);
                // $(this).parent().parent().remove();
            }

            // 总金额
            totalMoney();
        });

        $(".delBtn").click(function () {
            if (confirm("亲，您真的要删除吗？")) {
                $(this).parent().parent().remove();
                totalMoney();
            }
        });
    })
    // 感觉用户体验不怎么好，
    // 其实应该点击 + 或者 - 的时候或者点击选框的弟弟们任何一个时就触发选框的事件，
    // - 到 0 的时候就不选中选框了

    // 计算总金额
    function totalMoney() {
        // 
        let money = 0;
        let $tr = $("table tr:gt(0)").not("table tr:last");
        $tr.each(function () {
            // 复选框是不是选中了
            if ($(this).find(":checkbox").prop("checked")) {
                money += parseFloat($(this).find("td").eq(5).html());
            }
        });
        $("table tr:last").find("span").html(money);
    }
</script>